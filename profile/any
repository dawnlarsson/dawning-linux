#
# CPU
#
CONFIG_64BIT=y
CONFIG_X86_MPPARSE=y
CONFIG_X86_CPU_RESCTRL=y
CONFIG_X86_AMD_PLATFORM_DEVICE=y
CONFIG_SMP=y
CONFIG_NR_CPUS=128
CONFIG_SCHED_CLUSTER=y
CONFIG_X86_REROUTE_FOR_BROKEN_BOOT_IRQS=y
CONFIG_SCHED_MC=y
CONFIG_X86_FRED=y
CONFIG_X86_IOPL_IOPERM=y
CONFIG_X86_MSR=y
CONFIG_X86_CPUID=y
CONFIG_X86_5LEVEL=y
CONFIG_NUMA=y
CONFIG_X86_64_ACPI_NUMA=y
CONFIG_MTRR=y
CONFIG_X86_16BIT=y
CONFIG_SCHED_CORE=y
CONFIG_SYSVIPC=y
CONFIG_SYSVIPC_SYSCTL=y
CONFIG_SYSVIPC_COMPAT=y

CONFIG_JUMP_LABEL=y
CONFIG_X86_X32_ABI
CONFIG_IA32_EMULATION=y
CONFIG_COMPAT_32BIT_TIME=y

CONFIG_EARLY_PRINTK=y

CONFIG_KERNEL_GZIP=y
CONFIG_RD_GZIP=y
CONFIG_BLK_DEV_INITRD=y


CONFIG_COMPAT=y
CONFIG_ELF_CORE=y
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_MISC=y
CONFIG_TPM=y
CONFIG_KEY_DH_OPERATIONS=y
CONFIG_CRYPTO_DH=y
CONFIG_INOTIFY_USER=y
CONFIG_FANOTIFY=y
CONFIG_OVERLAY_FS=y
CONFIG_ISO9660_FS=y
CONFIG_TRANSPARENT_HUGEPAGE=y
CONFIG_MEMORY_FAILURE=y
CONFIG_CLEANCACHE=y
CONFIG_FRONTSWAP=y

CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
CONFIG_MODVERSIONS=y
CONFIG_MODULE_SRCVERSION_ALL=y
CONFIG_MODULE_SIG=y
CONFIG_MODULE_SIG_ALL=y
CONFIG_MODPROBE_PATH="/sbin/modprobe"
CONFIG_MODULES_TREE_LOOKUP=y
CONFIG_MODULE_SIG_SHA512=y
CONFIG_MODULE_SIG_HASH="sha512"
CONFIG_MODULE_COMPRESS=y
CONFIG_MODULE_COMPRESS_ZSTD=y
CONFIG_MODULE_COMPRESS_ALL=y
CONFIG_MODULE_DECOMPRESS=y
CONFIG_MODULE_ALLOW_MISSING_NAMESPACE_IMPORTS=y

SCHED_AUTOGROUP=y
CONFIG_KERNFS=y
CONFIG_CGROUPS=y
CONFIG_MEMCG=y
CONFIG_BLK_CGROUP=y
CONFIG_CGROUP_WRITEBACK=y
CONFIG_CGROUP_SCHED=y
CONFIG_CGROUP_PIDS=y
CONFIG_CGROUP_RDMA=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_HUGETLB=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_PERF=y
CONFIG_CGROUP_MISC=y
CONFIG_UNIX=y
CONFIG_SYSFS_DEPRECATED=y
CONFIG_FW_LOADER=y
CONFIG_FW_LOADER_USER_HELPER=n
CONFIG_DMIID=y
CONFIG_DMI=y
CONFIG_DMI_SYSFS=y
CONFIG_NET_NS=y
CONFIG_USER_NS=y
CONFIG_IPV6=y
CONFIG_TMPFS_XATTR=y
CONFIG_NET_SCHED=y
CONFIG_NET_SCH_FQ_CODEL=y
CONFIG_FAIR_GROUP_SCHED=y
CONFIG_CFS_BANDWIDTH=y


CONFIG_DEBUG_INFO=n
CONFIG_DEBUG_INFO_BTF=n
CONFIG_BPF=n
CONFIG_CGROUP_BPF=n
CONFIG_BPF_EVENTS=n
CONFIG_HAVE_EBPF_JIT=n
CONFIG_BPF_SYSCALL=n
CONFIG_BPF_LSM=n
CONFIG_BPF_JIT=n
CONFIG_BPF_JIT_ALWAYS_ON=n
CONFIG_BPF_JIT_DEFAULT_ON=n
CONFIG_BPF_UNPRIV_DEFAULT_OFF=y
CONFIG_ARCH_WANT_DEFAULT_BPF_JIT=n
CONFIG_BPF_PRELOAD=n

CONFIG_ARCH_WANT_DEFAULT_BPF_JIT=y
CONFIG_CRYPTO_LIB_UTILS=y
CONFIG_ZSTD_COMMON=y
CONFIG_ZSTD_COMPRESS=y
CONFIG_DECOMPRESS_ZSTD=y
CONFIG_ZSTD_DECOMPRESS=y
CONFIG_LIBELF=y
CONFIG_ELF_SYSCALLS=y
CONFIG_BINFMT_ELF=y
CONFIG_COMPAT_BINFMT_ELF=y
CONFIG_ELFCORE=y
CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS=y
CONFIG_ZSWAP_COMPRESSOR_DEFAULT_ZSTD=y
CONFIG_ZSWAP_COMPRESSOR_DEFAULT="zstd"
CONFIG_ZSWAP_ZPOOL_DEFAULT_ZSMALLOC=y
CONFIG_ZSWAP_ZPOOL_DEFAULT="zsmalloc"
CONFIG_ZBUD=y
CONFIG_ZSMALLOC=y
CONFIG_ZSMALLOC_STAT=y
CONFIG_ZSMALLOC_CHAIN_SIZE=8
CONFIG_ZPOOL=y
CONFIG_SWAP=y
CONFIG_ZSWAP=y
CONFIG_PACKING=y
CONFIG_CRYPTO_ZSTD=y
CONFIG_KEXEC_ELF=y

CONFIG_INTEL_MEI=n

CONFIG_SOCK_CGROUP_DATA=y
CONFIG_NAMESPACES=y
CONFIG_UTS_NS=y
CONFIG_TIME_NS=y
CONFIG_IPC_NS=y
CONFIG_USER_NS=y
CONFIG_USER_NS_UNPRIVILEGED=y
CONFIG_PID_NS=y
CONFIG_NET_NS=y
CONFIG_RELAY=y

# System
CONFIG_RELAY=y
CONFIG_X86_VSYSCALL_EMULATION=y
CONFIG_ISA_DMA_API=y
CONFIG_SUSPEND=y
CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y
CONFIG_DMADEVICES=y
CONFIG_RTC_CLASS=y
CONFIG_TCG_TPM=y
CONFIG_TCG_TIS_I2C=y
CONFIG_TCG_TIS=y
CONFIG_KCMP=y

CONFIG_SWAP=y
CONFIG_SLAB_MERGE_DEFAULT=y
CONFIG_AUXDISPLAY=y
CONFIG_PINCTRL=y
CONFIG_COMMON_CLK=y
CONFIG_CRYPTO_LZO=y

CONFIG_ZSWAP=y

# EFI
CONFIG_EFI=y
CONFIG_EFI_STUB=y
CONFIG_EFI_HANDOVER_PROTOCOL=y
CONFIG_EFI_MIXED=y
CONFIG_EFI_RUNTIME_MAP=y
CONFIG_EFIVAR_FS=y
CONFIG_EFI_PARTITION=y
CONFIG_EFI_VARS=y

CONFIG_DAMON=y

# Memory
CONFIG_COMPACTION=y

# executable formats
CONFIG_BINFMT_ELF=y
CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS=y
CONFIG_BINFMT_SCRIPT=y
CONFIG_BINFMT_MISC=y


# file system support
CONFIG_FANOTIFY=y
CONFIG_AUTOFS_FS=y
CONFIG_EXT4_FS=y
CONFIG_QUOTA=y
CONFIG_MSDOS_FS=n
CONFIG_VFAT_FS=y
CONFIG_EXFAT_FS=y
CONFIG_FAT_DEFAULT_UTF8=y
CONFIG_BLOCK=y
CONFIG_SCSI=y
CONFIG_BLK_DEV=y
CONFIG_SCHED_AUTOGROUP=y
CONFIG_CHR_DEV_SG=y
CONFIG_BLK_DEV_SD=y
CONFIG_CHR_DEV_ST=y
CONFIG_BLK_DEV_SR=y
CONFIG_ZRAM=y
CONFIG_BLK_DEV_RAM=y
CONFIG_VIRTIO_BLK=y
CONFIG_BLK_DEV_WRITE_MOUNTED=y
CONFIG_BLK_DEV_ZONED=y
CONFIG_DNOTIFY=y
CONFIG_INOTIFY_USER=y
CONFIG_POSIX_MQUEUE=y
CONFIG_POSIX_MQUEUE_SYSCTL=y
CONFIG_WATCH_QUEUE=y
CONFIG_SATA_AHCI=y
CONFIG_SATA_AHCI_PLATFORM=y
CONFIG_SATA_AHCI_PCI=y

CONFIG_DEVTMPFS=y
CONFIG_DEVTMPFS_MOUNT=y
CONFIG_TMPFS=y

# power
CONFIG_ACPI=y
CONFIG_PM=y

CONFIG_PCI=y

CONFIG_IOMMU_SUPPORT=y
CONFIG_AMD_IOMMU=y
CONFIG_IOMMUFD=y
CONFIG_VIRTIO_IOMMU=y
CONFIG_IOMMU_DEFAULT_PASSTHROUGH=y
CONFIG_ACPI_WMI=y
CONFIG_ACPI_PCI_SLOT=y
CONFIG_PCIEASPM_PERFORMANCE=y

# DRM
CONFIG_DRM_CLIENT=y
CONFIG_DRM_CLIENT_LIB=y
CONFIG_DRM_CLIENT_SELECTION=y
CONFIG_DRM_CLIENT_SETUP=y
CONFIG_SCREEN_INFO=y
CONFIG_DRM_MIPI_DBI=y
CONFIG_DRM_MIPI_DSI=y
CONFIG_VIDEO=y
CONFIG_AGP=y
CONFIG_FB=y
CONFIG_DRM=y
CONFIG_DRM_LOAD_EDID_FIRMWARE=y=
CONFIG_DRM_DISPLAY_HELPER=y
CONFIG_DRM_SIMPLEDRM=y
CONFIG_DRM_VKMS=y
CONFIG_DRM_VGEM=y
CONFIG_DRM_PRIVACY_SCREEN=y
CONFIG_DRM_PANEL_ORIENTATION_QUIRKS=y
CONFIG_DRM_BRIDGE=y
CONFIG_DRM_PANEL_BRIDGE=y
CONFIG_DRM_PANEL=y
CONFIG_DRM_GEM_SHMEM_HELPER=y
CONFIG_DRM_DISPLAY_DP_AUX_CEC=y
CONFIG_DRM_DISPLAY_DP_AUX_CHARDEV=y
CONFIG_DRM_DISPLAY_DP_HELPER=y
CONFIG_DRM_DISPLAY_DP_TUNNEL=y
CONFIG_DRM_DISPLAY_DSC_HELPER=y
CONFIG_DRM_DISPLAY_HDCP_HELPER=y
CONFIG_DRM_DISPLAY_HDMI_HELPER=y

# Framebuffer
CONFIG_FB=y

# ??
CONFIG_CONSOLE_SYSFB_SIMPLEFB=y
CONFIG_SYSFB_SIMPLEFB=y

CONFIG_FB_DEVICE=y
CONFIG_FB_VGA16=y
CONFIG_FB_VESA=y
CONFIG_FB_SIMPLE=y
CONFIG_FRAMEBUFFER_CONSOLE=y
CONFIG_FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER=y
CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY=y
CONFIG_FB_EFI=y
CONFIG_KVM=y
CONFIG_DRM_KMS_HELPER=y
CONFIG_DRM_FBDEV_EMULATION=y
CONFIG_FB_MODE_HELPERS=y

CONFIG_PCIEPORTBUS=y
CONFIG_PCIE_TPH=y
CONFIG_PCIE_PTM=y
CONFIG_PCIEASPM=y
CONFIG_PCI_QUIRKS=y
CONFIG_COMPAT_BRK=y
CONFIG_VGA_ARB_MAX_GPUS=3

CONFIG_PREVENT_FIRMWARE_BUILD=y

# CONSOLE AND TERMINAL
CONFIG_TTY=y
CONFIG_VGA_CONSOLE=y

CONFIG_NULL_TTY=y
CONFIG_PRINTK=y
CONFIG_TTY_PRINTK=y
CONFIG_PRINTK_TIME=n
CONFIG_CONSOLE_LOGLEVEL_DEFAULT=8
CONFIG_MESSAGE_LOGLEVEL_DEFAULT=8
CONFIG_CONSOLE_LOGLEVEL_QUIET=8
CONFIG_TTY_PRINTK_LEVEL=1

CONFIG_ENERGY_MODEL=y

# Input
CONFIG_INPUT=y
CONFIG_INPUT_EVDEV=y
CONFIG_INPUT_KEYBOARD=y
CONFIG_INPUT_MOUSE=y
CONFIG_INPUT_MOUSEDEV=y

CONFIG_HID=y
CONFIG_HIDRAW=y
CONFIG_HID_SUPPORT=y
CONFIG_USB_HID=y
CONFIG_HID_GENERIC=y
CONFIG_USB_HIDINPUT=y
CONFIG_USB_HIDDEV=y
CONFIG_USB_HIDRAW=y
CONFIG_USB_HID_QUIRKS=y

# USB
CONFIG_USB_SUPPORT=y
CONFIG_USB_COMMON=y
CONFIG_USB_PCI=y
CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
CONFIG_USB_DEFAULT_PERSIST=y
CONFIG_USB_EHCI_HCD_PLATFORM=y
CONFIG_USB_ULPI_BUS=y
CONFIG_USB=y
CONFIG_TYPEC_TCPCI=y
CONFIG_UCSI_ACPI=y
CONFIG_USB_XHCI_HCD=y
CONFIG_USB_XHCI_PCI=y
CONFIG_USB_XHCI_PLATFORM=y
CONFIG_USB_MOUSE=y
CONFIG_USB_KEYBOARD=y
CONFIG_USB_STORAGE=y
CONFIG_TYPEC=y
CONFIG_TYPEC_TCPM=y
CONFIG_TYPEC_UCSI=y
CONFIG_USB_ROLE_SWITCH=y

# ip over usb
# usbip
CONFIG_USB_GADGET=n
CONFIG_USBIP_CORE=n
CONFIG_USBIP_VHCI_HCD=n
CONFIG_USBIP_HOST=n
CONFIG_USBIP_VUDC=n
CONFIG_USBIP_DEBUG=n

